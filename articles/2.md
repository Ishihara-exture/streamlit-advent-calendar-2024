# 2日目

## 1日目のおさらい :streamlit: 

StreamlitはPythonでWebアプリが作れるフレームワークです。  
初めてStreamlitを触る人に向けて「4日間でクリスマスカードアプリを作る」の初回、簡単にお試しできるPlayground環境の紹介と、「ボタンを押すと雪が降る」というStreamlitの簡単さと親しみやすさのお手本のようなコードで解説が始まりました。  

Day1のコード
```py:work1.py
import streamlit as st

st.title("Streamlitクリスマスカード 🎅")

# ボタンを押すと雪が降る
button_pushed = st.button("雪を降らせる")
if button_pushed:
    st.snow()
```
用意されたパーツを配置することで、ボタンを押すと実行されるアクションをたった3行で書くことができました。

## Day2のアプリを早速動かそう！
Day2では、同じようにいくつかの簡単なパーツを配置して「テキスト入力フォーム」や「チェックボックス」を用意し、入力された値を画面上に表示します。

まずは昨日と同じように[Streamlit Playground](https://streamlit.io/playground?example=blank)にアクセスし、 

![Day1 Streamlit Playground](app/static/day1_streamlit_playground.png "Streamlit Playground")
*左下の[Share]と書かれている画面がソースコードを入力する部分、右下の真っ白な画面がWebアプリが表示される部分でした。*  


以下のようなソースコードを入力してみてください！  
上半分の`st.snow()`までは1日目の内容です。その続きに入力フォームを用意します。
```py:work2.py
import streamlit as st

st.title("Streamlitクリスマスカード 🎅")

# ボタンを押すと雪が降る
button_pushed = st.button("雪を降らせる")
if button_pushed:
    st.snow()

# テキストを入力させる
name = st.text_input(f"あなたのお名前")
# 選択肢から国を選ばせる
country = st.selectbox(f"あなたが住んでいる国", ["", "日本", "アメリカ", "中国", "オーストラリア"])

# 入力内容を表示する
st.write(name)
st.write(country)

# 名前と国が両方とも入力されたとき
if name != "" and country != "":
    st.write("必要な情報が揃いました！")
```

正しく入力できていれば、テキスト入力フォームとチェックボックスが表示されているはずです。  
実際にお名前を入力してみてください。  

![Day2 実行例](app/static/day2_result.png "パーツを追加してアプリっぽくなってきました")

## 解説

順番に解説していきます。  

```py
import streamlit as st
```

Streamlitを使うときはこのようにimportしていきます。Python自体が初めて、という方はプログラムの一番最初に必ず書くおまじないだと思ってください！  

```py
st.title("Streamlitクリスマスカード 🎅")
```

```st.title```という関数でタイトルを表示することができます。ぜひ指定する文字列を色々書き替えてタイトルに反映されるか試してみてください！  

```py
button_pushed = st.button("雪を降らせる")
```

```st.button```という関数でボタンを表示することができます。ユーザがボタンを押すと```True```が返ってきます。  
```st.button```に指定している文字列はボタンに表示する文字列です。  
なお、今回は詳しく触れませんが、```st.button```を複数回呼び出してボタンを複数表示することもできます。そうすると最後に押したボタンだけ```True```を返します。  

```py
if button_pushed:
    st.snow()
```

上記のソースコードでは```st.button```が返す値を```button_pushed```という変数に代入しているので、ボタンが押されると```button_pushed```は```True```になります。  
そのため、このif文ではボタンが押されたときだけ```st.snow```という関数を実行することになります。  
```st.snow```は画面に雪を降らせるお遊び機能ですが、こうして使うとボタンが押されたことが目で分かっていいですね！  

## 次回予告

2日目はボタンを押すだけではなくユーザが色々入力できるようにプログラムを改良していきます。お楽しみに！  
そうそう、今回入力したソースコードをどこかに保存しておくのをお忘れなく！Streamlit Playgroundに入力したソースコードは、残念ながらブラウザを閉じると消えてしまいますから。  

## 補足：自分のPCにPython環境を構築したい方は

ちなみに、Pythonに慣れていて自分のPCにPython環境を構築したいな、という方は ```pip install streamlit``` でStreamlitをインストールすることができます。  
デモアプリを動かしてインストールができたか確認するときは ```streamlit hello``` 、  
自分の作ったプログラムを動かすときには ```streamlit run streamlit_app.py``` というコマンドを実行してくださいね！  
